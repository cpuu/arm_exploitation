# armv6_buster

The original author of this code is **[hugsy](https://github.com/hugsy)**.

Original Links : [His blog post](https://blahcat.github.io/2017/06/25/qemu-images-to-play-with/), [Mega.nz](https://mega.nz/#F!oMoVzQaJ!iS73iiQQ3t_6HuE-XpnyaA) , [Google Drive](https://drive.google.com/drive/folders/107uMlL_DS8yD2TS_0yrHXBDnLOj44a8P?usp=sharing)

I have modified the shell script a bit.
They work on my system (Ubuntu 16.04 on x86_64).

## Install Git, Qemu
구동에 필요한 관련 라이브러리 패키지들을 다운로드합니다.
```
$ sudo apt-get update
$ sudo apt-get upgrade
$ sudo apt-get install unzip git qemu qemu-user-static binfmt-support
```

## Go to Directory
저자의 Github에서 arm_exploitation Repository를 clone하고, 아래의 디렉토리로 접근합니다.

```
cpuu@ubuntu:~/$ git clone https://github.com/cpuu/arm_exploitation.git
cpuu@ubuntu:~/$ cd arm_exploitation/armv6_buster/ 
```

## Execute ./get.sh

이 쉘 스크립트는 아래와 같은 순서로 동작합니다.


- Raspberry Pi 공식 사이트로부터 최신 이미지 파일을 다운로드 받고 압축을 해제함.
- 다운로드 받은 파일이 Qemu에서 원활히 부팅될 수 있도록 디스크 이미지를 일부 수정함.
- 불필요한 파일들을 지우고 최종적으로 raspbian-buster.img 파일을 생성.

이 쉘스크립트를 사용하기 위해 아래와 같이 입력합니다.

```
cpuu@ubuntu:~/arm_exploitation/armv6_buster$ ./get.sh 
```

## Execute ./start.sh
이 쉘 스크립트는 Qemu를 이용하여 raspbian-stretch.img 이미지를 구동합니다. 이 명령어는 cui 모드로 부팅하여 접속하기 위한 것입니다.
```
cpuu@ubuntu:~/arm_exploitation/armv6_buster$ ./start.sh 
```
커널 부팅에 성공한 경우 아래와 같이 login 계정과 비밀번호를 물어봅니다. Raspbian OS 의 초기 계정은 pi / raspberry 입니다.
로그인에 성공한 화면입니다. 

```
Raspbian GNU/Linux 10 raspberrypi ttyAMA0

raspberrypi login: pi
Password: 
Last login: Thu Oct 22 06:31:53 BST 2020 on tty1
Linux raspberrypi 4.4.34+ #3 Thu Dec 1 14:44:23 IST 2016 armv6l

The programs included with the Debian GNU/Linux system are free software;
the exact distribution terms for each program are described in the
individual files in /usr/share/doc/*/copyright.

Debian GNU/Linux comes with ABSOLUTELY NO WARRANTY, to the extent
permitted by applicable law.
pi@raspberrypi:~$ 
pi@raspberrypi:~$ uname -a
Linux raspberrypi 4.4.34+ #3 Thu Dec 1 14:44:23 IST 2016 armv6l GNU/Linux
pi@raspberrypi:~$ 
pi@raspberrypi:~$ cat /etc/os-release |grep 'PRETTY_NAME'
PRETTY_NAME="Raspbian GNU/Linux 10 (buster)"

```
위와 같이 성공적으로 부팅되었으며, armv6l 기반의 Linux Kernel에서 Raspbian OS을 작동시킨 것과 동일한 환경을 에뮬레이션 하였습니다.

## Execute ./gui.sh
이 쉘 스크립트는 GUI 모드로 부팅할 때 사용합니다.
```
cpuu@ubuntu:~/arm_exploitation/armv6_buster$ ./gui.sh
```

새로운 창이 열리며 Raspberry Pi 에뮬레이팅 화면이 표출됩니다.
